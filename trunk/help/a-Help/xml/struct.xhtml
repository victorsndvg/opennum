<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /> 
    <title>Structures</title>
    <link rel="stylesheet" type="text/css" href="../sty.css" />
  </head>
  <body id="top">
    <p>Next: <a href="action.xhtml">Actions</a>, Previous: <a href="menu.xhtml">Menus</a>, Up: <a href="xml.xhtml">Top</a></p>
    <hr /> 

    <h3>Structures</h3>

    <p><strong>On this page:</strong></p>
    <ul>
      <li><a href="#struct">Element <code>struct</code></a></li>
      <li><a href="#custom">Customizable structures</a></li>
      <li><a href="#table">Tables and charts</a></li>
    </ul>

    <h4 id="struct">Element <code>struct</code></h4>
    <p>An element <code>struct</code> is designed to contain other child elements <code>struct</code>, <code>leaf</code> and <code>action</code>. This element can be empty. The required attribute <code>name=</code>"<em>value</em>" indicates the ASCII string that identifies the element. The optional attribute <code>title=</code>"<em>value</em>" indicates an UTF-8 string that will be the title of the associated widget; if <code>title</code> is not present, the widget title is taken from attribute <code>name</code>.</p>
    <p>The associated widget depends on the optional attribute <code>selection="</code><em>value</em><code>"</code>, where <em>value</em> can be</p>
    <ul>
      <li><strong><code>none</code></strong> (the default value) has this <a href="../use/data.xhtml#multiple">associated widget</a> and selection is not saved;</li>
      <li><strong><code>single</code></strong> has this <a href="../use/data.xhtml#single">associated widget</a>. 
      If one child of the structure has the attribute <code>selected="true"</code>, the child will appear as pre-selected. 
      The last child selected by the user will take the attribute <code>selected="true"</code> and it will be saved in the
      <a href="../conf/app.xhtml#menu">XML datafile</a>.
      </li>
    </ul>
    <pre class="xml">&lt;struct name="Condition type" selection="single"&gt;
  &lt;leaf type="float" name="Constant"&gt;
    &lt;element&gt;10&lt;/element&gt;
  &lt;/leaf&gt;
  &lt;leaf type="char" name="Function" selected="true"&gt;
    &lt;element&gt;x^2&lt;/element&gt;
  &lt;/leaf&gt;
&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div>      

    <h4 id="custom">Customizable structures</h4>
    <p>An element <code>struct</code> with attribute <code>customizable="true"</code> let the user to add or delete child elements. The associated widget depends on the optional attribute <code>selection="</code><em>value</em><code>"</code>, where <em>value</em> can be</p>
    <ul>
      <li><strong><code>none</code></strong> (the default value) has this <a href="../use/data.xhtml#conf">associated widget</a> and selection is not saved;</li>
      <li><strong><code>single</code></strong> has this <a href="../use/data.xhtml#confs">associated widget</a>.</li>
    </ul>
    <p>Every customizable structure must contain a child element with attribute <code>default="true"</code>. This child element can be a regular element <code>struct</code> or <code>leaf</code> without the attribute <code>name</code>. This element does not appear in the widget, it will serve as a pattern to create the new child elements that the user adds. The new elements will be identical to the pattern except in the attribute <code>name</code>, provided by the user. The customizable structures can contain other child elements apart from the pattern.</p>
    <pre class="xml">&lt;struct name="Mathematical constants" customizable="true"&gt;
  &lt;leaf type="float" default="true"&gt;
    &lt;element&gt;0&lt;/element&gt;
  &lt;/leaf&gt;
  &lt;leaf type="float" name="pi"&gt;
    &lt;element&gt;3.14159&lt;/element&gt;
  &lt;/leaf&gt;
&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div>      

    <h4 id="table">Tables and charts</h4>
    <!-- <span class="rev">Revisar</span> -->
   <p>An element <code>struct</code> with the attribute <code>show</code> add a <em>Show</em> button in the widget. <code>show</code> attribute has several behaviors and with the value <code>show="tabular"</code> this button shows the content of the structure as a table, with the value <code>show="plot"</code> this button shows the content of the structure as a 2D chart. Both, table and chart, are showed with the value <code>show="all"</code> . 
   </p>
   <p>This attribute was designed for structures that have several child elements <code>leaf</code> with attribute <code>type="float"</code>. In this case, the table similar to <a href="#fig-1">Figure 1</a> appears.</p>
    <pre class="xml">&lt;struct name="Table" show="tabular"&gt;
  &lt;leaf type="float" name="X"&gt;
    &lt;element&gt;3 4 5 6&lt;/element&gt;
  &lt;/leaf&gt;
  &lt;leaf type="float" name="Y"&gt;
    &lt;element&gt;3 7 5 9&lt;/element&gt;
  &lt;/leaf&gt;
&lt;/struct&gt;</pre>
    <p align="center"> 
      <img width="20%" src="images/table.png" />
      <br clear="all" /> 
      <span id="fig-1" class="caption"> <strong>Figure 1:</strong> Table obtained with attribute <code>show="tabular"</code>.</span>
    </p>

   <p> An element <code>struct</code> with the attribute <code>show="matrix"</code> also allows to represent a matrix file in a table. The use of the <code>show="matrix"</code> attribute that does not show a button at the top right of the widget, it directly shows a new window with the table, you can see the table at <a href="#fig-2">Figure 2</a>.</p>
   <p>The matrix file must be specified by using <code>data</code> attribute with <code>"file:..."</code> or <code>"menu:..."</code> prefixes and  the file must be right formated in the OpenNum <a href="../form/matrix/matrix.xhtml">MTX matrix file format</a>.
   </p>

   <pre class="xml">&lt;struct name="Matrix" show="matrix" data="file:matrix.mtx"&gt;
&lt;/struct&gt;</pre>

    <p align="center"> 
      <img width="25%" src="images/matrix.png" />
      <br clear="all" /> 
      <span id="fig-2" class="caption"> <strong>Figure 2:</strong> Table obtained with attribute <code>show="matrix"</code>.</span>
    </p>

    <div class="back"><a href="#top">Back to top</a></div>

    <hr />
    <p>&copy; 2016 <a href="http://www.usc.es/">Universidade de Santiago de Compostela</a></p>
  </body>
</html>

