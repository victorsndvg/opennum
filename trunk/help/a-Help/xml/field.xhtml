<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" /> 
    <title>Field visualization</title>
    <link rel="stylesheet" type="text/css" href="../sty.css" />
  </head>
  <body id="top">
    <p>Next: <a href="graph.xhtml">Graph visualization</a>, Previous: <a href="mesh.xhtml">Mesh visualization</a>, Up: <a href="visual.xhtml">Top</a></p>
    <hr /> 

    <h3>Field visualization</h3>

    <p><strong>On this page:</strong></p>
    <ul>
      <li><a href="#mesh">The attribute <code>mesh</code></a></li>
      <li><a href="#add">Adding more meshes to the Graphic scene</a></li>
      <li><a href="#point">The attribute <code>pointdata</code></a></li>
      <li><a href="#cell">The attribute <code>celldata</code></a></li>
      <li><a href="#show">Listing the values of an associated mesh field</a></li>
      <li><a href="#plot">The attribute <code>plot</code></a></li>
        <ul>
          <li><a href="#filled">The value <code><strong>filled</strong></code></a></li>
          <li><a href="#thres">The value <code><strong>threshold</strong></code></a></li>
          <li><a href="#cont">The value <code><strong>contour</strong></code></a></li>
          <li><a href="#slice">The value <code><strong>slice</strong></code></a></li>
          <li><a href="#cut">The value <code><strong>cut</strong></code></a></li>
          <li><a href="#rough">The value <code><strong>rough_cut</strong></code></a></li>
          <li><a href="#pol">The value <code><strong>plot_over_line</strong></code></a></li>
          <li><a href="#sdef">The value <code><strong>scalar_deformed</strong></code></a></li>
          <li><a href="#vector">The value <code><strong>vector_field</strong></code></a></li>
          <li><a href="#vdef">The value <code><strong>vector_deformed</strong></code></a></li>
          <li><a href="#vcomp">The value <code><strong>vector_components</strong></code></a></li>
        </ul>
    </ul>

    <p>An element <code>struct</code> or <code>leaf</code> can create a field visualization in the <a href="../use/visual-parts/parts.xhtml#scene">Graphic scene</a>. To do so, the element must have</p>
    <ul>
      <li>the attribute <a href="#mesh"><code>mesh</code></a> to know which file describes the mesh,</li>
      <li>the attribute <a href="#pointdata"><code>pointdata</code></a> or <a href="#celldata"><code>celldata</code></a> to know wich field will be plotted on the previous mesh and </li>
      <li>the attribute <a href="#plot"><code>plot</code></a> to know which graphic type will be plotted.</li>
    </ul>
    <p>The optional attribute <a href="#add"><code>add_mesh</code></a> can include other meshes in wireframe mode.</p>
    
    <h4 id="mesh">The attribute <code>mesh</code></h4>
        <p>An element <code>struct</code> or <code>leaf</code> can refer to a mesh with the attribute <code>mesh="</code><em>prefix:value</em>", where <em>prefix</em> can be</p>
    <ul>
      <li><code><strong>file</strong></code> and then <em>value</em> must be a file containing a mesh that comply one of the <a href="../form/mesh/mesh.xhtml">valid formats</a>; <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#file">File dependencies</a>;</li>
      <li><code><strong>menu</strong></code> and then <em>value</em> must be a menu path that points to a element <code>leaf</code> with attributes <code>type="file"</code>, <code>subtype="mesh"</code> or <code>subtype="field"</code>. <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#menu">Menu dependencies</a>.</li>
    </ul>

    <p>The attribute <code>mesh</code> can refer to several meshes <span class="ok">using <a href="dep.xhtml#var">variables</a></span>. In that case, all the meshes will be shown in the same <a href="../use/visual-parts/parts.xhtml#scene">Graphic scene</a>.</p>
    <pre class="xml">&lt;leaf type="charlist" name="Line references" mesh="menu:/Mesh/Open/Mesh file"&gt;
&lt;/leaf&gt;</pre>
    <p><span class="ok">You can find a practical example in the beginner's sample <a href="../samp/beginner/visualization2.xhtml">Field visualization</a>.</span></p>
    <div class="back"><a href="#top">Back to top</a></div> 
        
    <h4 id="add">Adding more meshes to the Graphic scene</h4>
    <p> The optional attribute <code>add_mesh="</code><em>prefix:value</em> permits to add more meshes to the Graphic scene. The rules for <em>prefix</em> and <em>value</em> are the same than those for the attribute <code>mesh</code>. The additional meshes will be shown as <em>wireframe</em>, that is, no field will be shown on them. The attribute <code>add_mesh</code> is useful to show meshes that help to understand the spatial position of the main mesh.</p>
    <pre class="xml">&lt;leaf type="charlist" name="Line references" mesh="menu:/Mesh/Open/Mesh file" add_mesh="file:auxiliar-mesh.unv"&gt;
&lt;/leaf&gt;</pre>
    <p><span class="ok">You can find a practical example in the intermediate sample <a href="../samp/intermediate/visualizationwithfile.xhtml#addmesh">Visualization with file</a>.</span></p>
    <div class="back"><a href="#top">Back to top</a></div> 
    
    <h4 id="point">The attribute <code>pointdata</code></h4>
    <p>In order to visualize a field defined on the the nodes of the mesh indicated with the attribute <code>mesh</code>, an element <code>struct</code> or <code>leaf</code> must also have the attribute <code>pointdata="</code><em>prefix:value</em>" where <em>prefix</em> and <em>value</em> depend on the <a href="../form/field/field.xhtml">field format</a>:</p>
    <ul>
      <li><strong>VTK format:</strong> the mesh and the field are given in the same file and the field has a name to identify it; the file is indicated in the attribute <code>mesh</code> and the field name is indicated in the attribute <code>pointdata</code> with prefix <code>data:</code></li>
      <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.vtu" pointdata="data:Temperature"&gt;
&lt;/leaf&gt;</pre>
      <li><strong>MFF format:</strong> the mesh is given by a file with MFM format and the field is given in another file with MFF format; the mesh file is indicated in the attribute <code>mesh</code> and the field file name is indicated in the attribute <code>pointdata="</code><em>prefix:value</em>" where <em>prefix</em> can be
        <ul>
          <li><code><strong>file</strong></code> and then <em>value</em> must be a MFF file containing the field; <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#file">File dependencies</a>;
            <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.mfm" pointdata="file:example-field.mff"&gt;
&lt;/leaf&gt;</pre>
          </li>
          <li><code><strong>menu</strong></code> and then <em>value</em> must be a menu path that points to a element <code>leaf</code> with attributes <code>type="file"</code>, <code>subtype="field"</code>. <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#menu">Menu dependencies</a>.
            <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.mfm" pointdata="menu:/Fields/Temperature"&gt;
&lt;/leaf&gt;</pre>
          </li>
        </ul>
      </li>
    </ul>
    <p><span class="ok">You can find a practical example in the section beginner's sample <a href="../samp/beginner/visualization2.xhtml">Field visualization</a>.</span></p>
    <div class="back"><a href="#top">Back to top</a></div> 
    
    <h4 id="cell">The attribute <code>celldata</code></h4>
    <p>In order to visualize a field defined on the the elements (i.e., cells) of the mesh indicated with the attribute <code>mesh</code>, an element <code>struct</code> or <code>leaf</code> must also have the attribute <code>celldata="</code><em>prefix:value</em>" where <em>prefix</em> and <em>value</em> depend on the <a href="../form/field/field.xhtml">field format</a>:</p>
    <ul>
      <li><strong>VTK format:</strong> the mesh and the field are given in the same file and the field has a name to identify it; the file is indicated in the attribute <code>mesh</code> and the field name is indicated in the attribute <code>celldata</code> with prefix <code>data:</code></li>
      <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.vtu" celldata="data:Temperature"&gt;
&lt;/leaf&gt;</pre>
      <li><strong>MFF format:</strong> the mesh is given by a file with MFM format and the field is given in another file with MFF format; the mesh file is indicated in the attribute <code>mesh</code> and the field file name is indicated in the attribute <code>celldata="</code><em>prefix:value</em>" where <em>prefix</em> can be
        <ul>
          <li><code><strong>file</strong></code> and then <em>value</em> must be a MFF file containing the field; <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#file">File dependencies</a>;
            <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.mfm" celldata="file:example-field.mff"&gt;
&lt;/leaf&gt;</pre>
          </li>
          <li><code><strong>menu</strong></code> and then <em>value</em> must be a menu path that points to a element <code>leaf</code> with attributes <code>type="file"</code>, <code>subtype="field"</code>. <em>value</em> must follow the rules explained in the section <a href="dep.xhtml#menu">Menu dependencies</a>.
            <pre class="xml">&lt;struct name="Scalar field" mesh="file:example.mfm" celldata="menu:/Fields/Temperature"&gt;
&lt;/leaf&gt;</pre>
          </li>
        </ul>
      </li>
    </ul>
    <p><span class="rev">You can find a practical example in the section <a href="#filled">... plot</a>.</span></p>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h4 id="plot">The attribute <code>plot</code></h4>
    <p>An element <code>struct</code> or <code>leaf</code> must have the <code>plot="</code><em>value</em>" to select a graphic type for the visualization. The attribute <code>mesh</code> and one of the attributes <code>pointdata</code> and <code>celldata</code> are also mandatory. The posible values for <em>value</em> are detailed in the subsections below.</p>
    <p>Some graphic type require to show optional paramters in the Data window to change some visualization aspects. For example, slice graphics permit to change the plane position. The XML code needed to show these options is stored in the folder <code><em>installdir</em>/plots</code> where <code><em>installdir</em></code> is the installation folder. OpenNum copies that XML code to the menu configuration file the first time the visualization is demanded. OpenNum also includes the attribute <code>plotted="true"</code> to avoid subsequent copies. In order to allow OpenNum to manage their content, elements with attribute <code>plot</code> must be empty.</p>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="filled">The value <code><strong>filled</strong></code></h5>
    <p>The attribute <code>plot="filled"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#filled">filled graphic</a>. It is only available for scalar fields.</p>
    <pre class="xml">&lt;struct name="Filled" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="filled"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 
    
    <h5 id="thres">The value <code><strong>threshold</strong></code></h5>
    <p>The attribute <code>plot="threshold"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#thres">threshold graphic</a>. It is only available for scalar fields.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="threshold"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="cont">The value <code><strong>contour</strong></code></h5>
    <p>The attribute <code>plot="contour"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#isolin">contour graphic</a>. The field must be scalar.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="contour"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="slice">The value <code><strong>slice</strong></code></h5>
    <p>The attribute <code>plot="slice"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#slice">slice graphic</a>. It is only available for scalar fields on 3D meshes.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="slice"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="cut">The value <code><strong>cut</strong></code></h5>
    <p>The attribute <code>plot="cut"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#cut">cut graphic</a>. It is only available for scalar fields on 3D meshes.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="cut"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="rough">The value <code><strong>rough_cut</strong></code></h5>
    <p>The attribute <code>plot="rough_cut"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#rough">rough cut graphic</a>. It is only available for scalar fields on 3D meshes.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="rough_cut"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 
    
    <h5 id="pol">The value <code><strong>plot_over_line</strong></code></h5>
    <p>The attribute <code>plot="plot_over_line"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/scalar.xhtml#pol">plot over line graphic</a>. It is only available for scalar fields.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" plot="plot_over_line"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="sdef">The value <code><strong>scalar_deformed</strong></code></h5>
    <p>The attribute <code>plot="rough_cut"</code> permits to an element <code>leaf</code> with <code>type="float"</code> to show a <a href="../use/visual-graphs/scalar.xhtml#def">scalar deformed graphic</a>. It is only available for scalar fields on 2D meshes.</p>
    <pre class="xml">&lt;leaf type="float" name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Temperature" 
plot="scalar_deformed"&gt;&lt;/leaf&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 
        
    <h5 id="vector">The value <code><strong>vector_field</strong></code></h5>
    <p>The attribute <code>plot="vector"</code> permits to an element <code>struct</code> to show a <a href="../use/visual-graphs/vector.xhtml#vec">vector field graphic</a>. It is only available for vector fields.</p>
    <pre class="xml">&lt;struct name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Displacement" plot="vector_field"&gt;&lt;/struct&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="vdef">The value <code><strong>vector_deformed</strong></code></h5>
    <p>The attribute <code>plot="vector_deformed"</code> permits to an element <code>leaf</code> with attribute <code>type="float"</code> to show a <a href="../use/visual-graphs/vector.xhtml#vdef">vector deformed graphic</a>. It is only available for vector fields.</p>
    <pre class="xml">&lt;leaf type="float" name="Example" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Displacement" 
plot="vector_deformed"&gt;&lt;/leaf&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <h5 id="vcomp">The value <code><strong>vector_components</strong></code></h5>
    <p>The attribute <code>plot="vector_components"</code> permits to an element <code>leaf</code> with attributes <code>type="charlist"</code> and <code>selection="single"</code> to show a <a href="../use/visual-graphs/vector.xhtml#comp">vector component graphic</a>. It is only available for vector fields.</p>
    <pre class="xml">&lt;leaf type="charlist" name="Example" selection="single" mesh="menu:/Mesh/Open/Mesh file" pointdata="data:Displacement" 
plot="vector_component"&gt;&lt;/leaf&gt;</pre>
    <div class="back"><a href="#top">Back to top</a></div> 

    <hr />
    <p>&copy; 2012 - <a href="http://www.usc.es/ingmat/?lang=en">Ingeniería Matemática</a></p>
  </body>
</html>

